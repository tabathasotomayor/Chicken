<html>
	<head>
		<script src="processing-1.4.1.js"></script>
	
	</head>
	
	<script type="text/processing" data-processing-target="mycanvas">
			
			Chicken chic = new Chicken(60,500,5);
			
			var boxes =[];
			//walls
			Block wall = new Block(0,0,600,40,0);
			Block wall2 = new Block(0,0,40,900,0);
			Block wall3 = new Block ( 860, 0, 600,40,0);
			Block wall4 = new Block (0,560,40,900,0);
			//obstacles 
			Block yo = new Block ( 60,150,55,46,0);
			Block ba = new Block ( 130,50,20,30,0);
			Block four = new Block(350,260,130,170,0);
			Block six = new Block( 470,380, 80,90,0);
			Block nine = new Block (650,60,80,90,0);
			Block ten = new Block (700,160, 30,90,0);
			Block one = new Block (60,290,60,180,0);
			Block h = new Block ( 80,360,40,80,0);
			Block k = new Block (380,30,80,130,0);
			Block l = new Block (410,100,30,80,0);
			Block m = new Block (350,60,30,20,0);
			Blocl n = new Block (520,50,20,30,0);
			
			
			
			var die = false;
							
			boxes.push(wall);
			boxes.push(wall2);
			boxes. push (wall3);
			boxes.push (wall4);
			boxes.push (yo);
			boxes.push (ba);
			boxes.push(four);
			boxes.push(six);
			boxes.push(nine);
			boxes.push(ten);
			boxes.push(one);
			boxes.push(h);
			boxes.push(k);
			boxes.push(l);
			boxes.push(n);
			boxes.push(m);
			
			//things
			Block pe = new Block( 500,470,70,30,1);
			Block two = new Block( 140,75,35,40,1);
			Block hah = new Block ( 120,140,20,20,1);
			Block five = new Block (400,520,40,30,1);
			Block c = new Block ( 330,415,30,40,1);
			Block b = new Block (300,460,30,20,1);
			Block a = new Block (360,500,25,40,1);
			Block d = new Block (800,140,30,20,1);
			Block g = new Block ( 820,85,20,30,1);
			Block j = new Block (160,460,20,30,1);	
			Block le = new Block (400,200,20,30,1);
			Block p = new Block ( 490,160,20,30,1);
			Block he = new Block ( 530,215,30,20,1);
			Block ha = new Block (200,530,8,8,1);
			Block ka = new Block (250,500,8,8,1);
			Block fa = new Block (230,200,8,8,1);
			Block ba = new Block (250,150,8,8,1);
			
			
			boxes.push(pe);
			boxes.push(two);
			boxes.push (hah);
			boxes.push (five);
			boxes.push(c);
			boxes.push(b);
			boxes.push(a);
			boxes.push(d);
			boxes.push(g);
			boxes.push(j);
			boxes.push(p);
			boxes.push(le);
			boxes.push(he);
			boxes.push(ha);
			boxes.push(ka);
			boxes.push(fa);
			boxes.push(ba);
								
			void setup()
			{
			  
			  size(900,600);
			  background(200);
			  fill(200);
			  PFont fontA = loadFont("courier");
			  textFont(fontA, 14);
			  
			  
			}
			 
			
			//set up of the background
			void draw(){  
			  text("Hello Web!",20,20);
			  background(62,87,40);
			  //test.drawB();
			  println("Hello ErrorLog!");
			  //bob.drawB();
			  chic.draw();
			  //chic.move();
			  if(keyPressed == true){
				console.log(keyCode);
				if (keyCode == 39 && chic.canMove() == true){ //it can move right
					chic.move("right");
				}
				else if(keyCode == 39 && chic.canMove() == false && die == true){
					chic.move("die");
					die = false;
				
				}
				else if (keyCode == 39 && chic.canMove() == false){//it cant move right
					chic.move("left");
					chic.move("left");
					chic.move("left");
					
				} /*
				else if (keyCode == 39 && chic.hurtMove() == false){//it hits the pain to the right
					chic.move("die");
					console.log("heyyy")
					
				} */
				else if(keyCode == 37 && chic.canMove() == true){// it can move left
					chic.move("left");
				}
				else if(keyCode == 37 && chic.canMove() == false && die == true){
					chic.move("die");
					die = false;
				
				}
				else if(keyCode ==37 && chic.canMove()== false){// it cant move left
					chic.move("right");
					chic.move("right");
					chic.move("right");				
				
				}
				else if(keyCode == 38 && chic.canMove() == true){ //it can move up
					chic.move("up");
				}
				else if(keyCode == 38 && chic.canMove() == false && die == true){
					chic.move("die");
					die = false;
				
				}
				else if (keyCode ==38 && chic.canMove() ==false){ // it cant move up
					chic.move("down");
					chic.move("down");
					chic.move("down");
					
				}
				else if (keyCode == 40 && chic.canMove() == true){ // it can move down
					chic.move("down");
				}
				else if(keyCode == 40 && chic.canMove() == false && die == true){
					chic.move("die");
					die = false;
				
				}
				else if (keyCode == 40 && chic.canMove() == false){ // it cant move down
					chic.move("up");
					chic.move("up");
					chic.move("up");
				
				}
			  };
			  
			 for (var i=0; i < boxes.length; i++){
				boxes[i].drawB();
				//console.log("block here");
			}/*
			for (var i=0; i < pain.length; i++){
				pain[i].drawB();
				//console.log("block here");
			}*/
			}
			
			//this is the building class
			class Chicken{
				//attributes
				var x;
				var y;				
				var w;
					//constructor
					Chicken( xVal, yVal,width)
					{
						x=xVal;
						y=yVal;
					
						w=width;
						
					}
					//methods
					void draw()
					{
						
						noStroke();
						fill(100,100,100); //center
						rect(x,y,w,w);
						fill(178, 136, 93);//white
						rect(x+5,y,w,w);
						rect(x-5,y,w,w);
						rect(x,y-5,w,w);
						rect(x,y+5,w,w);
						rect(x+5,y+5,w,w);
						rect(x-5,y+5,w,w);
						rect(x+5,y-5,w,w);
						rect(x-5,y-5,w,w);
						fill(230,138,0);//orange
						rect(x+5,y+10,w,w);	//feet					
						rect(x-5,y+10,w,w);//feet
						fill(178, 136, 93);//white
						rect(x-10,y,w,w);
						rect(x+10,y-5,w,w);				
						rect(x+10,y,w,w);
						rect(x+10,y-10,w,w);
						fill(230,138,0);
						rect(x+15,y-10,w,w);
						fill(178, 136, 93);//white
						rect(x+10,y-15,w,w);
						rect(x+5,y-10,w,w);
						rect(x+5,y-15,w,w);
						fill(0,0,0);
						rect(x+9.5,y-10,2.5,2.5);
						
					}
					void move(dir){
					if (dir == "right"){
						x++;
						//console.log("x is" +x);
					}
					else if(dir == "left") {
							x--;
						}
						//top
						else if(dir == "up") {
							y--;
						}
					
						//bottom
						else if(dir == "down") {
								y++;
						}
						else if( dir == "die"){
						       console.log("here");
							   x=100;
							   y=500;
						}
				}
					void canMove(){
					var move = true;
									
					
					for (var i=0; i < boxes.length; i++){
						if (chic.x <boxes[i].R +10&&
							chic.x>boxes[i].L - 10&&
							chic.y >boxes[i].T -10 &&
							chic.y <boxes[i].B +10 ){
							
							console.log("move is false");
							move = false;
							//return move;
							if(boxes[i].isPain()){
								die = true;
							}
							}
						/*else{
							console.log("move is true");
							move = true;
							return move;
							}*/
						//return move;
					
					}
					
					return move;
					//console.log("something returned");
					
					}
					/*
					void hurtMove(){
					var hurt = true;
					
					for (var i = 0; i< pain.length; i++){
						if (chic.x<pain[i].R +10 &&
							chic.x>pain[i].L -10&&
							chic.y>pain[i].T -10&&
							chic.y<pain[i].B +10){
							
							console.log("move is false pt two");
							hurt = false;
							}
						
					}
					return hurt;
					}*/
					
			}
			
				
				function arrowPress(e){
					console.log(e.keyCode);
				}
			
			
			class Block{
			//attributes
				var R;
				var T;
				var B;
				var L;
				var h;
				var w; 
				var x;
				var y;
				var p;
					//constructor
					Block(xVal, yVal, height, width, pain){
						x=xVal;
						y=yVal;
						h = height;
						w = width;
						p=pain;
						
					}
					void drawB(){
						T = y;
						B = y+ h;
						L = x;
						R = x+w;					
						fill(0,0,0);
						rect(x,y,w,h);
					}
					boolean isPain(){
						if (p==0){
							return false;
						}else{
							return true;
						}
					}
			}
			
					
		</script>
		
		<body >
		<canvas id="mycanvas"></canvas>
	</body>
</html>